<!doctype html>
<html lang="ru">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <title>–•—Ä–æ–Ω–∏–∫–∏ –ó–∞—Ç–µ—Ä—è–Ω–Ω—ã—Ö –ú–∏—Ä–æ–≤ ‚Äî –í—ã–±–æ—Ä –ö–æ–º–∞–Ω–¥—ã</title>
    <link rel="stylesheet" href="style.css" />
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700;900&display=swap" rel="stylesheet">
</head>
<body class="selection-body">
    <canvas id="snowCanvas"></canvas>

    <div class="selection-wrap">
        <header>
            <h1 class="game-title">–•—Ä–æ–Ω–∏–∫–∏ –ó–∞—Ç–µ—Ä—è–Ω–Ω—ã—Ö –ú–∏—Ä–æ–≤ ‚ú®‚ùÑÔ∏è</h1>
            <div id="status-selection" class="status-selection">–ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ...</div>
        </header>

        <section class="selection-card">
            <h2 class="section-header">–í—ã–±–µ—Ä–∏—Ç–µ –∫–æ–º–∞–Ω–¥—É:</h2>
            <div id="teamSelection" class="team-selection-grid">
                </div>

            <h2 class="section-header">–í—ã–±–µ—Ä–∏—Ç–µ —Ä–æ–ª—å:</h2>
            <div id="roleSelection" class="role-selection-grid">
                <button class="role-card" data-role="Explorer">
                    <span class="role-icon">üß≠</span>
                    –ò—Å—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å
                </button>
                <button class="role-card" data-role="Guardian">
                    <span class="role-icon">üõ°Ô∏è</span>
                    –•—Ä–∞–Ω–∏—Ç–µ–ª—å
                </button>
                <button class="role-card" data-role="Saboteur">
                    <span class="role-icon">üí£</span>
                    –î–∏–≤–µ—Ä—Å–∞–Ω—Ç
                </button>
                <button class="role-card" data-role="Negotiator">
                    <span class="role-icon">ü§ù</span>
                    –ü–µ—Ä–µ–≥–æ–≤–æ—Ä—â–∏–∫
                </button>
            </div>
            
            <div class="name-input-block">
                <h2 class="section-header">–í–≤–µ–¥–∏—Ç–µ –≤–∞—à–µ –∏–º—è:</h2>
                <div class="name-input-container">
                    <input id="nameInput" placeholder="–í–∞—à–µ —É–Ω–∏–∫–∞–ª—å–Ω–æ–µ –∏–º—è" />
                    <div id="authMsg" class="hint"></div>
                    <button id="btnStartAdventure" disabled class="start-button">–ù–∞—á–∞—Ç—å –ø—Ä–∏–∫–ª—é—á–µ–Ω–∏–µ</button>
                </div>
            </div>
        </section>
    </div>
<div id="teamModal" class="modal-backdrop hidden">
        <div class="modal-content card">
            <button class="modal-close" onclick="closeModal()">‚úñ</button>
            <h2 id="modalTitle">–£–∫–∞–∂–∏—Ç–µ –¥–∞–Ω–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã</h2>

            <div id="modalNamingSection">
                <h3>–ü—Ä–∏–¥—É–º–∞–π—Ç–µ –Ω–∞–∑–≤–∞–Ω–∏–µ:</h3>
                <p class="muted">–í–∞—à–µ –Ω–∞–∑–≤–∞–Ω–∏–µ –∑–∞–º–µ–Ω–∏—Ç "–°–Ω–µ–∂–∏–Ω–∫–∏" –∏ —Ç.–ø.</p>
                <input type="text" id="modalNewTeamNameInput" placeholder="–í–≤–µ–¥–∏—Ç–µ —É–Ω–∏–∫–∞–ª—å–Ω–æ–µ –Ω–∞–∑–≤–∞–Ω–∏–µ" class="modal-input">
            </div>

            <hr style="border-color: rgba(255,255,255,0.1); margin: 20px 0;">

            <h3>–°–µ–ª—Ñ–∏ –∫–æ–º–∞–Ω–¥—ã:</h3>
            <div id="modalSelfieDisplay" style="margin-bottom: 15px;">
                <p class="muted">–í–∞—à–µ —Å–µ–ª—Ñ–∏ –±—É–¥–µ—Ç –æ—Ç–æ–±—Ä–∞–∂–∞—Ç—å—Å—è —Ä—è–¥–æ–º —Å –Ω–∞–∑–≤–∞–Ω–∏–µ–º –∫–æ–º–∞–Ω–¥—ã.</p>
            </div>
            
            <label for="modalSelfieUpload" class="start-button modal-button-full" style="background: linear-gradient(45deg, #a777f2, #e650d0);">
                üì∏ –°–¥–µ–ª–∞—Ç—å/–ó–∞–≥—Ä—É–∑–∏—Ç—å –°–µ–ª—Ñ–∏
            </label>
            <input type="file" id="modalSelfieUpload" accept="image/*" capture="environment" class="hidden"> 
            
            <button id="modalBtnFinish" class="start-button modal-button-full" style="margin-top: 20px;">
                –°–æ—Ö—Ä–∞–Ω–∏—Ç—å –∏ –Ω–∞—á–∞—Ç—å –∏–≥—Ä—É
            </button>
        </div>
    </div>
    
    <script type="module" src="script.js"></script>
</body>
</html>